jQuery(document).ready(function(a){io=io.connect("http://192.168.1.2:8087");var b=0;io.emit("statusBanco");io.on("atualizarAoLigar",function(d){console.log(d);for(var g in d){var h=d[g];g=g.replace("Ligado","");g=g.replace("Desligado","");g=g.replace("ON","");g=g.replace("OFF","");var e=2;if(h==1){e=1}if(String(g).indexOf("cor")>=0&&g.indexOf("cora")<0){e=3}if(g=="temperatura"){e=4}var c=a("#"+g).text();if(e==2){c=c.replace("Ligada","Desligada");a("#"+g).text(c);a("#"+g).removeClass("btn-success")}else{if(e==1){c=c.replace("Desligada","Ligada");a("#"+g).text(c);a("#"+g).addClass("btn-success")}else{if(e==3){a(".btncolor").each(function(){var i=a(this);var j=i.data("color");if(j==h){a(".btncolor").removeClass("active");i.addClass("active")}})}else{var f=parseInt(h);a(".progress-bar span").html(parseFloat(h).toFixed(1)+"ยบ C");a(".progress-bar").removeClass("progress-bar-danger progress-bar-warning progress-bar-success");if(f>=50){a(".progress-bar").addClass("progress-bar-danger")}if(f>30&&f<50){a(".progress-bar").addClass("progress-bar-warning")}if(f<30){a(".progress-bar").addClass("progress-bar-success")}a(".progress-bar").css("width",f+"%")}}}}});a(".btncolor").click(function(){var c=a(this).data("color");io.emit("rotapadrao",{valor:"novacor"+c})});a(".btn").click(function(d){d.preventDefault();var e=a(this).attr("id");var c=a("#"+e).text();if(c=="Ligada"){io.emit("rotapadrao",{valor:e+"OFF"})}else{if(c=="Desligada"){io.emit("rotapadrao",{valor:e+"ON"})}}});io.on("rotaenviousuario",function(c){var d=c.led;if(d=="1a"){a("#botao").text("Desligar")}else{if(d=="0a"){a("#botao").text("Ligar")}}});io.on("rotadeescuta",function(f){var d=0;if(f.indexOf("Ligado")>-1){f=f.replace("Ligado","");d=1}else{if(f.indexOf("Desligado")>-1){f=f.replace("Desligado","");d=2}else{if(f.indexOf("cora")>-1){f=f.replace("cora","");d=3}else{f=f.replace("temperatura","")}}}if(d==1||d==2){var c=a("#"+f).text();if(f=="resetando"){a(".btn").attr("disabled",true);a("#statusenergiaarduino").text("Sincronizando")}else{if(f=="voltei"){a(".btn").attr("disabled",false);a("#statusenergiaarduino").text("Arduino Conectado")}else{if(d==2){c=c.replace("Ligada","Desligada");a("#"+f).text(c);a("#"+f).removeClass("btn-success")}else{if(d==1){c=c.replace("Desligada","Ligada");a("#"+f).text(c);a("#"+f).addClass("btn-success")}}}}}else{if(d==3){a(".btncolor").each(function(){var g=a(this);var h=g.data("color");if(h==f){a(".btncolor").removeClass("active");g.addClass("active")}})}else{var e=parseInt(f);a(".progress-bar span").html(parseFloat(f).toFixed(1)+"ยบ C");a(".progress-bar").removeClass("progress-bar-danger progress-bar-warning progress-bar-success");if(e>=50){a(".progress-bar").addClass("progress-bar-danger")}if(e>30&&e<50){a(".progress-bar").addClass("progress-bar-warning")}if(e<30){a(".progress-bar").addClass("progress-bar-success")}a(".progress-bar").css("width",e+"%")}}})});